#!/bin/bash
dateNow="$(date +'%H:%M')"
dateFourMins="$(date +'%H:%M' -d +4mins57secs)"
dateFiveMins="$(date +'%H:%M' -d +5mins)"
calendarName="urlaub"

nextTenMinutes="$(khal list -d $calendarName --notstarted --format '{start-time} * {title}' "$dateNow" 15m)"
nextFiveMinutes="$(khal list -d $calendarName --notstarted --format '{title}\n{location}\n{url}' "$dateFourMins" "$dateFiveMins")"
if [[ -n $nextTenMinutes ]]; then
    notify-send "Upcoming" "  $nextTenMinutes"
fi

if [[ -n $nextFiveMinutes ]]; then
    notify-send "Upcoming" "<span foreground='#f4b8e4'> \n$nextFiveMinutes</span>"
fi
